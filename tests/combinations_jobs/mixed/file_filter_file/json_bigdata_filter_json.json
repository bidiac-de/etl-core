{
  "name": "JSON BigData Filter to JSON",
  "num_of_retries": 0,
  "file_logging": false,
  "strategy_type": "bigdata",
  "metadata": { "created_by": "pytest" },
  "components": [
    {
      "name": "reader",
      "comp_type": "read_json",
      "description": "NDJSON in (dask)",
      "filepath": "__IN__",
      "routes": { "out": [ { "to": "flt", "in_port": "in" } ] },
      "out_port_schemas": {
        "out": { "fields": [
          { "name": "id", "data_type": "string" },
          { "name": "name", "data_type": "string" }
        ] }
      }
    },
    {
      "name": "flt",
      "comp_type": "filter",
      "description": "name == Alice OR name == Charlie",
      "rule": {
        "logical_operator": "OR",
        "rules": [
          { "column": "name", "operator": "==", "value": "Alice" },
          { "column": "name", "operator": "==", "value": "Charlie" }
        ]
      },
      "in_port_schemas": {
        "in": { "fields": [
          { "name": "id", "data_type": "string" },
          { "name": "name", "data_type": "string" }
        ] }
      },
      "routes": { "pass": [ { "to": "writer", "in_port": "in" } ] },
      "out_port_schemas": {
        "pass": { "fields": [
          { "name": "id", "data_type": "string" },
          { "name": "name", "data_type": "string" }
        ] }
      }
    },
    {
      "name": "writer",
      "comp_type": "write_json",
      "description": "NDJSON out (partitioned directory)",
      "filepath": "__OUT__",
      "in_port_schemas": {
        "in": { "fields": [
          { "name": "id", "data_type": "string" },
          { "name": "name", "data_type": "string" }
        ] }
      }
    }
  ]
}
